$(document).ready(function(){const t={minimum:190,PleskWordPressToolkit:250,PremiumEmail:{user1:290,family5:458,entry10:824,starter30:2285,small50:3567,medium100:6310,large500:27345},PleskImunify360:1090,SSLAlphaSSL:2300,OptimizationForBitrix:260,NVMe:49.9,Site:24.9,sale24m:.24},l=$('input[name="PleskWordPressToolkit"]'),a=$('input[name="PremiumEmail"]'),i=$('input[name="PremiumEmailUser"]'),s=$('input[name="PleskImunify360"]'),n=$('input[name="SSLAlphaSSL"]'),o=$('input[name="OptimizationForBitrix"]'),e=$("#PleskWordPressToolkitText"),r=$("#PremiumEmailText"),c=$("#PleskImunify360Text"),m=$("#SSLAlphaSSLText"),d=$("#OptimizationForBitrixText"),u=$('input[name="term"]'),h=$("#totalPrice");totalPriceSale=$("#totalPriceSale"),totalPriceSaleBlock=$("#sale");let S=$(i).val(),v=$(u).val(),p=1;function k(){let e=t.minimum-t.NVMe-t.Site,i=0;l.is(":checked")&&(e+=t.PleskWordPressToolkit),a.is(":checked")&&(e+=t.PremiumEmail[S]),s.is(":checked")&&(e+=t.PleskImunify360),o.is(":checked")&&(e+=t.OptimizationForBitrix),e+=p*t.NVMe,e+=polz2*t.Site,24==v?($(totalPriceSaleBlock).removeClass("hide"),i=e*t.sale24m*v,n.is(":checked")&&(i+=2*t.SSLAlphaSSL*t.sale24m),e=(e-e*t.sale24m)*v,n.is(":checked")&&(e+=2*t.SSLAlphaSSL-2*t.SSLAlphaSSL*t.sale24m)):($(totalPriceSaleBlock).addClass("hide"),e*=v,n.is(":checked")&&(e+=t.SSLAlphaSSL)),console.log(v),$(h).text(e.toFixed(2)),$(totalPriceSale).text(i.toFixed(2)),f(h,2),f(totalPriceSale,2)}function f(e,t){$(e).text((e,i)=>{return(+i.split(" ")).toLocaleString("ru-RU",{minimumFractionDigits:t})})}function x(e){$("html, body").animate({scrollTop:$(e).offset().top},1e3)}polz2=1,k(),$(".jsVirCheckBox").on("change",function(){k()}),$(e).text(t.PleskWordPressToolkit),f(e,0),$(r).text(t.PremiumEmail[S]),f(r,0),$(c).text(t.PleskImunify360),f(c,0),$(m).text(t.SSLAlphaSSL),f(m,0),$(d).text(t.OptimizationForBitrix),f(d,0),$(".jsSubdomain").on("input",function(){""!=$(this).val()?($(".jsPriceBlock").removeClass("hide"),$(".jsLine").removeClass("hide")):($(".jsPriceBlock").addClass("hide"),$(".jsLine").addClass("hide"))}),$("#virSlider1").slider({animate:"slow",range:"min",value:1,min:1,max:100,slide:function(e,i){$("#virSlider1Text").text(i.value),p=i.value,k()}}),$("#virSlider1Text").text($("#virSlider1").slider("value")),$("#virSlider2").slider({animate:"slow",range:"min",value:1,min:1,max:100,slide:function(e,i){$("#virSlider2Text").text(i.value),polz2=i.value,k()}}),$("#virSlider2Text").text($("#virSlider2").slider("value")),$(".vir-select").on("click",function(){$(this).hasClass("open")?$(this).removeClass("open"):$(this).addClass("open")}),$(".vir-select").on("click",".vir-select__item",function(e){e.stopPropagation(),$(this).closest(".vir-select").find(".vir-select__head").text($(this).find("span").text()),$(this).closest(".vir-select").find(".vir-select__input").val($(this).data("value")),$(".vir-select").removeClass("open")}),$("#premEmail").on("click",".vir-select__item",function(e){S=$(i).val(),$(r).text(t.PremiumEmail[S]),f(r,0),k()}),$("#term").on("click",".vir-select__item",function(e){v=$(u).val(),k()}),$(".jsTab").on("click",function(){var e;$(this).hasClass("active")||(e=$(this).data("tab"),$(".jsTabConainer").addClass("hide"),$(`#${e}`).removeClass("hide"),$(".jsTab").removeClass("active"),$(this).addClass("active"))}),$(".jsAddToOrder").on("click",function(e){e.preventDefault();e=$(this).data("service");x($(this).attr("href")),$(`#${e}`).prop("checked",!0)}),$(".jsGoTab").on("click",function(e){e.preventDefault();var i=$(this).attr("href"),e=$(this).data("tab");x(i),$(`.jsTab[data-tab='${e}']`).click()}),$(".jsGoLink").on("click",function(e){e.preventDefault(),x($(this).attr("href"))})}),$(window).on("load",function(){1185<document.body.clientWidth&&function(e){let i=0;$(e).each(function(){$(this).height()>i&&(i=$(this).height())}),$(e).height(i)}(".vir-calculator__block-container")});